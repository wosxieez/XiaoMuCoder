package com.xiaomu.view.stageview
{
	import flash.events.MouseEvent;
	import flash.geom.Point;
	
	import coco.core.UIComponent;
	
	/**
	 * 变形器 
	 * @author coco
	 * 
	 */	
	public class Transformer extends UIComponent
	{
		public function Transformer()
		{
			addEventListener(MouseEvent.MOUSE_DOWN, this_mouseDownHandler);
		}
		
		
		private var radius:Number = 6;
		private var centerPoint:Point;
		
		
		override protected function measure():void
		{
			measuredHeight = measuredWidth = 69;
		}
		
		override protected function updateDisplayList():void
		{
			super.updateDisplayList();
		}
		
		override protected function drawSkin():void
		{
			graphics.clear();
			graphics.lineStyle(2, 0xE5E5E5);
			graphics.drawRect(0, 0, width, height);
			graphics.moveTo(width/ 2, 0);
			graphics.lineTo(width/ 2, -30);
			graphics.beginFill(0xFFFFFF);
			graphics.drawCircle(width / 2, - 30, radius);
			graphics.drawRect(-radius, -radius, 2 * radius, 2 * radius);
			graphics.drawRect(width - radius, -radius, 2 * radius, 2 * radius);
			graphics.drawRect(width - radius, height -radius, 2 * radius, 2 * radius);
			graphics.drawRect(-radius, height -radius, 2 * radius, 2 * radius);
			graphics.endFill();
		}
		
		protected function this_mouseDownHandler(event:MouseEvent):void
		{
			centerPoint = localToGlobal(new Point(width/2, height/2));
			
			stage.addEventListener(MouseEvent.MOUSE_MOVE, stage_mouseMoveHandler);
			stage.addEventListener(MouseEvent.MOUSE_UP, stage_mouseUpHandler);
		}
		
		protected function stage_mouseMoveHandler(event:MouseEvent):void
		{
			
		}
		
		protected function stage_mouseUpHandler(event:MouseEvent):void
		{
			
		}
		
	}
}